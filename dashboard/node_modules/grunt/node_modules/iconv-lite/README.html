<h1 id="iconv-lite_-_pure_javascript_character_encoding_conversion">iconv-lite - pure javascript character encoding conversion</h1>
<p><a href="http://travis-ci.org/ashtuchkin/iconv-lite"><img src="https://secure.travis-ci.org/ashtuchkin/iconv-lite.png?branch=master" alt="Build Status"></a></p>
<h2 id="Features">Features</h2>
<ul>
<li>Pure javascript. Doesn’t need native code compilation.</li>
<li>Easy API.</li>
<li>Works on Windows and in sandboxed environments like <a href="http://c9.io">Cloud9</a>.</li>
<li>Encoding is much faster than node-iconv (see below for performance comparison).</li>
</ul>
<h2 id="Usage">Usage</h2>
<pre><code>var iconv = require(<span class="attribute">'iconv</span>-lite');

// Convert from an encoded <span class="keyword">buffer</span> <span class="keyword">to</span> <span class="typename">string</span>.
str = iconv.decode(buf, <span class="attribute">'win1251</span>');

// Convert from <span class="typename">string</span> <span class="keyword">to</span> an encoded <span class="keyword">buffer</span>.
buf = iconv.encode(<span class="string">"Sample input string"</span>, <span class="attribute">'win1251</span>');

// Check <span class="keyword">if</span> encoding <span class="keyword">is</span> supported
iconv.encodingExists(<span class="string">"us-ascii"</span>)
</code></pre><h2 id="Supported_encodings">Supported encodings</h2>
<ul>
<li>All node.js native encodings: ‘utf8’, ‘ucs2’, ‘ascii’, ‘binary’, ‘base64’</li>
<li>All widespread single byte encodings: Windows 125x family, ISO-8859 family,<br>IBM/DOS codepages, Macintosh family, KOI8 family.<br>Aliases like ‘latin1’, ‘us-ascii’ also supported.</li>
<li>Multibyte encodings: ‘gbk’, ‘gb2313’, ‘Big5’, ‘cp950’.</li>
</ul>
<p>Others are easy to add, see the source. Please, participate.<br>Most encodings are generated from node-iconv. Thank you Ben Noordhuis and iconv authors!</p>
<p>Not supported yet: EUC family, Shift_JIS.</p>
<h2 id="Encoding/decoding_speed">Encoding/decoding speed</h2>
<p>Comparison with node-iconv module (1000x256kb, on Ubuntu 12.04, Core i5/2.5 GHz, Node v0.8.7).<br>Note: your results may vary, so please always check on your hardware.</p>
<pre><code><span class="header">operation             iconv@1.2.4   iconv-lite@0.2.4 
----------------------------------------------------------</span>
encode(<span class="emphasis">'win1251'</span>)     ~115 Mb/s     ~230 Mb/s
decode(<span class="emphasis">'win1251'</span>)     ~95 Mb/s      ~130 Mb/s
</code></pre><h2 id="Notes">Notes</h2>
<p>When decoding, a ‘binary’-encoded string can be used as a source buffer.<br>Untranslatable characters are set to � or ?. No transliteration is currently supported, pull requests are welcome.</p>
<h2 id="Testing">Testing</h2>
<pre><code>git clone git@github<span class="preprocessor">.com</span>:ashtuchkin/iconv-lite<span class="preprocessor">.git</span>
cd iconv-lite
npm install
npm test

<span class="preprocessor"># To view performance:</span>
node test/performance<span class="preprocessor">.js</span>
</code></pre><h2 id="TODO">TODO</h2>
<ul>
<li>Support streaming character conversion, something like util.pipe(req, iconv.fromEncodingStream(‘latin1’)).</li>
<li>Add more encodings.</li>
<li>Add transliteration (best fit char).</li>
<li>Add tests and correct support of variable-byte encodings (currently work is delegated to node).</li>
</ul>
